local patch = pd.Class:new():register("smufl-svg")

function patch:initialize(sel, atoms)
   self.outlets = 1
   self.inlets = 1
  return true
end

function patch:in_1(sel, atoms)
   glyphs = {
      E050 = "M 376 385 l 25 145 c 3 18 3 18 29 18 c 147 0 241 113 241 241 c 0 113 -67 198 -168 238 c -14 6 -15 5 -13 17 c 11 62 29 157 29 214 c 0 170 -130 200 -197 200 c -151 0 -190 -98 -190 -163 c 0 -62 40 -115 107 -115 c 61 0 96 47 96 102 c 0 58 -36 85 -67 94 c -23 7 -32 10 -32 17 c 0 13 26 29 80 29 c 59 0 159 -18 159 -166 c 0 -47 -15 -134 -27 -201 c -2 -12 -4 -11 -15 -9 c -20 4 -46 6 -69 6 c -245 0 -364 -165 -364 -339 c 0 -202 153 -345 297 -464 c 12 -10 11 -12 9 -24 c -7 -41 -14 -106 -14 -164 c 0 -104 24 -229 98 -311 c 20 -22 51 -48 65 -48 c 11 0 37 28 52 50 c 41 60 65 146 65 233 c 0 153 -82 280 -190 381 c -6 6 -8 7 -6 19 z M 470 -143 c -61 0 -133 96 -133 252 c 0 32 2 66 6 92 c 2 13 6 14 13 8 c 79 -69 174 -159 174 -270 c 0 -55 -27 -82 -60 -82 z M 361 538 l -21 -128 c -2 -11 -4 -12 -14 -4 c -47 38 -93 75 -153 142 c -83 94 -93 173 -93 232 c 0 139 113 236 288 236 c 20 0 40 -2 56 -5 c 15 -3 16 -3 14 -14 l -50 -298 c -2 -11 -4 -12 -20 -8 c -61 17 -100 60 -100 117 c 0 46 30 89 72 107 c 7 3 15 6 15 13 c 0 6 -4 11 -12 11 c -7 0 -19 -3 -27 -6 c -68 -23 -115 -87 -115 -177 c 0 -85 57 -164 145 -194 c 18 -6 18 -5 15 -24 z M 430 697 l 49 285 c 2 12 4 12 16 6 c 56 -28 94 -79 94 -142 c 0 -88 -67 -156 -148 -163 c -12 -1 -13 2 -11 14 z",
      -- E050 = "M376 385l25 145c3 18 3 18 29 18c147 0 241 113 241 241c0 113 -67 198 -168 238c-14 6 -15 5 -13 17c11 62 29 157 29 214c0 170 -130 200 -197 200c-151 0 -190 -98 -190 -163c0 -62 40 -115 107 -115c61 0 96 47 96 102c0 58 -36 85 -67 94c-23 7 -32 10 -32 17 c0 13 26 29 80 29c59 0 159 -18 159 -166c0 -47 -15 -134 -27 -201c-2 -12 -4 -11 -15 -9c-20 4 -46 6 -69 6c-245 0 -364 -165 -364 -339c0 -202 153 -345 297 -464c12 -10 11 -12 9 -24c-7 -41 -14 -106 -14 -164c0 -104 24 -229 98 -311c20 -22 51 -48 65 -48 c11 0 37 28 52 50c41 60 65 146 65 233c0 153 -82 280 -190 381c-6 6 -8 7 -6 19zM470 -143c-61 0 -133 96 -133 252c0 32 2 66 6 92c2 13 6 14 13 8c79 -69 174 -159 174 -270c0 -55 -27 -82 -60 -82zM361 538l-21 -128c-2 -11 -4 -12 -14 -4c-47 38 -93 75 -153 142 c-83 94 -93 173 -93 232c0 139 113 236 288 236c20 0 40 -2 56 -5c15 -3 16 -3 14 -14l-50 -298c-2 -11 -4 -12 -20 -8c-61 17 -100 60 -100 117c0 46 30 89 72 107c7 3 15 6 15 13c0 6 -4 11 -12 11c-7 0 -19 -3 -27 -6c-68 -23 -115 -87 -115 -177c0 -85 57 -164 145 -194 c18 -6 18 -5 15 -24zM430 697l49 285c2 12 4 12 16 6c56 -28 94 -79 94 -142c0 -88 -67 -156 -148 -163c-12 -1 -13 2 -11 14z"
   }
   s = glyphs[sel]
   if s ~= null then
         result = {}
      for substring in s:gmatch("%S+") do
         table.insert(result, substring)
      end
      head = table.remove(result, 1)
      self:outlet(1, head, result)
   else
      pd.post(string.format("Not found: %s", sel))
   end
end